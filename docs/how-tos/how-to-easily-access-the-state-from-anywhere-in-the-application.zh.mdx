---
title: 'å¦‚ä½•è½»æ¾åœ°ä»åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®çŠ¶æ€'
---

# å¦‚ä½•è½»æ¾åœ°ä»åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®çŠ¶æ€

åœ¨å¤„ç†å¤§å‹åº”ç”¨ç¨‹åºæ—¶ï¼Œå°†ä»£ç ç»„ç»‡åœ¨å•ç‹¬çš„æ–‡ä»¶å’Œç›®å½•ä¸­æ˜¯é¦–é€‰æ–¹å¼ï¼ŒValtio **çŠ¶æ€**ä¹Ÿä¸ä¾‹å¤–ã€‚åœ¨æŸäº›æ–¹é¢ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†çŠ¶æ€å¯¹è±¡æ”¾åœ¨å…¶è‡ªå·±çš„æ–‡ä»¶ä¸­ã€‚åœ¨åˆ†ç¦»åˆ°è‡ªå·±çš„æ–‡ä»¶åï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•ä»åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è½»æ¾è®¿é—®å®ƒã€‚

## ä½¿ç”¨è·¯å¾„åˆ«åè®¿é—®çŠ¶æ€

æƒ³è±¡ä¸€ä¸‹ï¼ŒçŠ¶æ€è¢«æ”¾åœ¨ `/src/state.js` ä¸­ï¼Œè€Œæ‚¨æ­£åœ¨å¤„ç† `/src/really/deep/nested/file/myfile.js` ä¸­çš„æ–‡ä»¶ï¼ŒçŠ¶æ€çš„å¯¼å…¥å°†ç±»ä¼¼äºï¼š`import state from '../../../../state';` è¿™å¯èƒ½å¯¼è‡´å¤ªå¤šçš„å¤§è„‘è®¡ç®—ï¼Œç‰¹åˆ«æ˜¯åœ¨åº”ç”¨ç¨‹åºçš„ä¸åŒåœ°æ–¹ä½¿ç”¨æ—¶ã€‚

è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨**è·¯å¾„åˆ«å**ï¼Œå®ƒå°†è·¯å¾„æ˜ å°„åˆ°æ›´ç®€å•çš„å­—ç¬¦ä¸²ï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„å¯¼å…¥å°†çœ‹èµ·æ¥ç±»ä¼¼äºï¼š

`import { state } from '@state';`

## ä½¿ç”¨ JS Config å’Œ Babel Config

1. åˆ›å»ºæ–‡ä»¶ `/src/state` å¹¶å°† Valtio **çŠ¶æ€**æ”¾å…¥å…¶ä¸­ï¼š

```js
import { proxy, useSnapshot, subscribe } from 'valtio'
const state = proxy({
  foos: [],
  bar: { ... },
  boo: false
})
export { state, useSnapshot, subscribe }
```

2. åˆ›å»ºæ–‡ä»¶ `/jsconfig.json`ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨ typescriptï¼Œåˆ™ä¸º `/tsconfig.json`ï¼‰ï¼š

```json
{
  "compilerOptions": {
    "baseUrl": "src",
    "paths": {
      "@state/*": ["./state/*"],
      "@mypath/*": ["./my/deep/path*"],
      "@anotherpath/*": ["./my/another/deep/path*"]
    }
  },
  "exclude": ["node_modules"]
}
```

<br />

<blockquote className="tip">
 ğŸ’¡ &nbsp; ä½¿ç”¨ TypeScriptï¼Ÿè¿™é‡Œæœ‰ä¸€äº›å‚è€ƒé“¾æ¥

https://www.totaltypescript.com/tsconfig-cheat-sheet<br />
https://github.com/tsconfig/bases<br />
https://www.typescriptlang.org/tsconfig/

</blockquote>

<br />

<br />

3. åœ¨æ‚¨çš„ `babel.config.js` ä¸­çš„æ’ä»¶ä¸­æ·»åŠ **æ¨¡å—è§£æå™¨**æ’ä»¶ï¼š

```js
module.exports = {
  // ...
  plugins: [
    // å…¶ä»–ç°æœ‰æ’ä»¶
    [
      'module-resolver',
      {
        root: ['./src'],
        extensions: ['.js', '.jsx', '.json', '.svg', '.png'],
        alias: {
          '@state': './src/state',
        },
      },
    ],
    // ...
  ],
}
```

4. å®‰è£… Babel æ’ä»¶æ¨¡å—è§£æå™¨ï¼š

- ä½¿ç”¨ NPMï¼š`npm install babel-plugin-module-resolver`
- ä½¿ç”¨ Yarnï¼š`yarn add babel-plugin-module-resolver`

5. é‡å¯åº”ç”¨ç¨‹åºæœåŠ¡å™¨
   <br />
   å°±æ˜¯è¿™æ ·ï¼Œç°åœ¨æ‚¨å°†èƒ½å¤Ÿä»åº”ç”¨ç¨‹åºå†…éƒ¨çš„ä»»ä½•åœ°æ–¹æ‰§è¡Œ `import {(state, useSnapshot, subscribe)} from '@state';`ã€‚

## ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“

æ‚¨å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥åˆ›å»ºåˆ«åå¹¶å®ç°ç›¸åŒçš„ç»“æœã€‚

åº“çš„ç¤ºä¾‹ï¼š
